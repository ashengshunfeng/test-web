<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chibi Banner with Opening Pull Effect</title>
  <style>
    body {
      margin: 0;
      background: #000;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      justify-content: center;
      position: relative;
    }

    .banner-wrapper {
      position: relative;
      width: 80vw;
      max-width: 900px;
      height: 80px;
      margin: 20px 0;
      overflow: visible;
    }

    .banner {
      position: relative;
      height: 80px;
      background: #111;
      border: 3px solid #fff;
      border-radius: 20px;
      box-shadow: 0 0 20px 5px rgba(255,255,255,0.3);
      display: flex;
      align-items: center;
      padding: 0 10px;
      overflow: hidden;
    }

    .ribbon-text {
      font-weight: 900;
      font-size: 1.8rem;
      white-space: nowrap;
      text-transform: uppercase;
      font-family: 'Arial Black', Arial, sans-serif;
      background: linear-gradient(90deg, 
        red, orange, yellow, green, blue, indigo, violet, red);
      background-size: 700% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbowMove 6s linear infinite, shake 1.5s infinite;
      /* for Firefox */
      background-clip: text;
      color: transparent;
      padding: 0 20px;
      position: relative;
      left: 0;
    }

    .chibi {
      position: absolute;
      width: 70px;
      bottom: 8px;
      user-select: none;
      pointer-events: none;
      filter: drop-shadow(0 0 3px rgba(0,0,0,0.7));
      left: -80px; /* start offscreen */
    }

    .chibi.right {
      left: auto;
      right: -80px;
    }

    /* Opening pull animations */
    @keyframes pullRightIn {
      0% { left: -80px; }
      100% { left: 10px; }
    }
    @keyframes pullLeftIn {
      0% { right: -80px; }
      100% { right: 10px; }
    }
    @keyframes pullTextRightIn {
      0% { left: -100%; }
      100% { left: 60px; }
    }
    @keyframes pullTextLeftIn {
      0% { left: 100%; }
      100% { left: 0; }
    }

    /* After opening, chibi and text are fixed in place */
    .chibi.opened {
      animation-fill-mode: forwards;
      animation-play-state: paused;
    }
    .ribbon-text.opened {
      animation-play-state: running;
      position: relative;
    }

    /* Animations */
    @keyframes rainbowMove {
      0% { background-position: 0% 0; }
      100% { background-position: 700% 0; }
    }
    @keyframes shake {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px) rotate(-2deg); }
      75% { transform: translateY(-3px) rotate(2deg); }
    }

    /* Chibi pair at bottom */
    .chibi-hug {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
      z-index: 15;
    }
    .chibi-hug img {
      width: 90px;
      user-select: none;
      pointer-events: none;
    }

    /* Money falling */
    .money {
      position: fixed;
      top: -20px;
      font-size: 24px;
      color: #0f0;
      animation: fall 6s linear forwards;
      user-select: none;
      pointer-events: none;
      text-shadow: 0 0 10px #0f0, 0 0 20px #0f0;
      z-index: 10;
    }
    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <!-- Banner lines with chibis -->
  <div class="banner-wrapper">
    <div class="banner">
      <img id="chibi1" class="chibi" src="https://cdn.jsdelivr.net/gh/lufeee/assets/chibi1.gif" alt="Chibi left" />
      <div id="text1" class="ribbon-text" style="position: relative; left: -100%;">I WANT MONEY.</div>
    </div>
  </div>

  <div class="banner-wrapper">
    <div class="banner">
      <img id="chibi2" class="chibi right" src="https://cdn.jsdelivr.net/gh/lufeee/assets/chibi2.gif" alt="Chibi right" />
      <div id="text2" class="ribbon-text" style="position: relative; left: 100%;">I WANT MORE MONEY.</div>
    </div>
  </div>

  <div class="banner-wrapper">
    <div class="banner">
      <img id="chibi3" class="chibi" src="https://cdn.jsdelivr.net/gh/lufeee/assets/chibi3.gif" alt="Chibi left" />
      <div id="text3" class="ribbon-text" style="position: relative; left: -100%;">BOSS, DON'T BE SAD ANYMORE. KEEP TRYING.</div>
    </div>
  </div>

  <!-- Chibi hugging bottom -->
  <div class="chibi-hug">
    <img src="https://cdn.jsdelivr.net/gh/lufeee/assets/chibi4_hug1.png" alt="An ủi 1" />
    <img src="https://cdn.jsdelivr.net/gh/lufeee/assets/chibi5_hug2.png" alt="An ủi 2" />
  </div>

  <!-- Money falling container -->
  <div id="money-container"></div>

  <script>
    const chibi1 = document.getElementById('chibi1');
    const text1 = document.getElementById('text1');
    const chibi2 = document.getElementById('chibi2');
    const text2 = document.getElementById('text2');
    const chibi3 = document.getElementById('chibi3');
    const text3 = document.getElementById('text3');

    // Animate opening: chibi + text sliding in, then stop.
    // Duration 4 seconds
    function animateOpening() {
      chibi1.style.animation = 'pullRightIn 4s forwards';
      text1.style.transition = 'left 4s ease-out';
      text1.style.left = '60px';

      chibi2.style.animation = 'pullLeftIn 4s forwards';
      text2.style.transition = 'left 4s ease-out';
      text2.style.left = '0';

      chibi3.style.animation = 'pullRightIn 4s forwards';
      text3.style.transition = 'left 4s ease-out';
      text3.style.left = '60px';

      // After animation ends, remove sliding animations and add shake + rainbow color
      setTimeout(() => {
        chibi1.style.animationPlayState = 'paused';
        chibi2.style.animationPlayState = 'paused';
        chibi3.style.animationPlayState = 'paused';

        text1.style.transition = '';
        text2.style.transition = '';
        text3.style.transition = '';

        // Ensure text stays and continue rainbow + shake
        text1.classList.add('opened');
        text2.classList.add('opened');
        text3.classList.add('opened');
      }, 4000);
    }

    animateOpening();

    // Money rain effect
    const moneyContainer = document.getElementById('money-container');

    function createMoney() {
      const money = document.createElement('div');
      money.classList.add('money');
      money.style.left = Math.random() * 100 + 'vw';
      money.style.fontSize = (10 + Math.random() * 20) + 'px';
      money.style.color = `hsl(${Math.random()*360}, 100%, 50%)`;
      money.textContent = '$';
      money.style.top = '-30px';
      money.style.position = 'fixed';
      money.style.zIndex = '5';
      money.style.pointerEvents = 'none';

      moneyContainer.appendChild(money);

      money.style.animationDuration = (4 + Math.random() * 4) + 's';

      setTimeout(() => {
        money.remove();
      }, 8000);
    }

    setInterval(createMoney, 100);

  </script>

</body>
</html>
