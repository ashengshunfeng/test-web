<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chibi Pull Banner Loop</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background: linear-gradient(to bottom, #111, #000);
      overflow: hidden;
      height: 100vh;
      position: relative;
      font-family: sans-serif;
    }
    /* Banner with 4 lines */
    .banner {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      opacity: 0;
    }
    .banner div {
      font-size: 1.8rem;
      font-weight: bold;
      background: linear-gradient(90deg, red,orange,yellow,green,blue,indigo,violet);
      background-size: 400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbow 5s linear infinite;
      margin: .2em 0;
    }
    @keyframes rainbow {
      0%{background-position:0 0;}
      100%{background-position:400% 0;}
    }
    /* Static dancing GIFs */
    .dance { position:absolute; width:130px; }
    /* 4 puller chibi PNG */
    .puller {
      position:absolute;
      width:100px;
      transition: all 1.5s ease;
      opacity:1;
    }
    /* Money rain */
    .money {
      position:absolute;
      top:-30px;
      font-size:20px;
      pointer-events:none;
      user-select:none;
      animation: fall 4s linear forwards;
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); opacity:0; }
    }
  </style>
</head>
<body>

  <!-- Banner -->
  <div class="banner" id="banner">
    <div>I want money.</div>
    <div>I want more money.</div>
    <div>Boss, don't be sad.</div>
    <div>Everyone, let's try our best.</div>
  </div>

  <!-- 3 GIF nhảy -->
  <img src="https://media.giphy.com/media/3o7btMCltyDvSgF92E/giphy.gif" class="dance" style="top:60%; left:10%;">
  <img src="https://media.giphy.com/media/mCRJDo24UvJMA/giphy.gif" class="dance" style="top:60%; left:30%;">
  <img src="https://media.giphy.com/media/l0MYGb1LuZ3n7dRnO/giphy.gif" class="dance" style="top:60%; right:30%;">

  <!-- 4 chibi PNG tĩnh (người kéo chữ) -->
  <img src="https://i.imgur.com/alyY6mj.png" id="p1" class="puller" style="top:-120px; left:10%;" alt="Chibi1">
  <img src="https://i.imgur.com/WMK4VYQ.png" id="p2" class="puller" style="top:-120px; right:10%;" alt="Chibi2">
  <img src="https://i.imgur.com/5lQVhvQ.png" id="p3" class="puller" style="bottom:-120px; left:10%;" alt="Chibi3">
  <img src="https://i.imgur.com/4H2uQ1x.png" id="p4" class="puller" style="bottom:-120px; right:10%;" alt="Chibi4">

<script>
  // tiền rơi
  setInterval(()=>{
    const m = document.createElement('div');
    m.className='money';
    m.textContent='$';
    m.style.left = Math.random()*100+'vw';
    m.style.color = `hsl(${Math.random()*360},100%,70%)`;
    document.body.appendChild(m);
    setTimeout(()=>m.remove(),4000);
  },100);

  const banner = document.getElementById('banner');
  const ps = ['p1','p2','p3','p4'].map(id=>document.getElementById(id));

  function cycle(){
    // 1) rơi vào vị trí ngoài mép
    ps.forEach((p,i)=>{
      if(i<2){
        p.style.top='10%';
        p.style.bottom='';
      } else {
        p.style.bottom='10%';
        p.style.top='';
      }
      if(i%2===0){
        p.style.left='10%';
        p.style.right='';
      } else {
        p.style.right='10%';
        p.style.left='';
      }
    });
    // 2) kéo banner
    setTimeout(()=>{
      banner.style.opacity=1;
      ps.forEach((p,i)=>{
        if(i%2===0) p.style.left='40%';
        else p.style.right='40%';
      });
    },1500);

    // 3) fade out
    setTimeout(()=>{
      banner.style.transition='opacity 1.5s';
      banner.style.opacity=0;
      ps.forEach(p=>p.style.opacity=0);
    },5000);

    // 4) reset
    setTimeout(()=>{
      banner.style.transition='';
      banner.style.opacity=0;
      ps.forEach((p,i)=>{
        p.style.transition='none';
        p.style.opacity=1;
        p.style.top = (i<2?'-120px':'');
        p.style.bottom = (i>=2?'-120px':'');
        p.style.left = (i%2===0?'10%':'');
        p.style.right= (i%2===1?'10%':'');
        void p.offsetWidth;
        p.style.transition='all 1.5s ease';
      });
    },7000);
  }

  cycle();
  setInterval(cycle,8000);
</script>
</body>
</html>
